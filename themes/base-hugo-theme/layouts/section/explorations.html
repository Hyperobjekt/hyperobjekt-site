{{ define "main" }}

<div id="keylistener" class="hero row mx-0" style="background-color: rgb(0, 5, 66); height: 100vh;">
       
          <div class="column col-sm-10 offset-sm-1 col-md-6 offset-md-3 col-lg-4 offset-lg-4 col-xl-6 offset-xl-3">
            <h2 tabindex="0">Explorations</h2>
            <div class="keys">
                    <div data-key="65" class="key">
                      <kbd>A</kbd>
                      <span class="sound">clap</span>
                    </div>
                    <div data-key="83" class="key">
                            <kbd>S</kbd>
                            <span class="sound">clap</span>
                          </div>
            </div>        
          </div>

       
    </div>

<script>

function removeTransition(e) {
    if (e.propertyName !== 'transform') return;
    e.target.classList.remove('playing');
  }
  function playSound(e) {
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
    key.classList.add('playing');
    
  }
  const keys = Array.from(document.querySelectorAll('.key'));
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);

   
</script>


{{ end }}
